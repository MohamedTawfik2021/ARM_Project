/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  SysTick.c
 *        \brief  SysTick Timer Driver

 *      \details  The Driver Configure The 24-bit SysTick 
                  
 *             
 *
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Std_Types.h"
#include "SysTick.h"
#include "Mem_Map.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/


/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/******************************************************************************
* \Syntax          : void TIMER0A_Handler()      
* \Description     : Timer0A_Hanler                                 
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                     
* \Parameters (out): None                                                      
* \Return value:   : None
*                                                                     
*******************************************************************************/
void SysTick_Handler()
{
	  (*p)();
}



/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/


/******************************************************************************
* \Syntax          : void SysTick_Init(uint32 Ticks)       
* \Description     : SysTick Initialization                                   
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : Ticks : Upper bound Ticks                    
* \Parameters (out): None                                                      
* \Return value:   : None                               
*******************************************************************************/
void SysTick_Init(uint32 Ticks)
{  
	   STRELOAD |= (Ticks & (0x00FFFF) );
     STCURRENT = 0x0;
     STCTRL   |= (0x3);
}


/******************************************************************************
* \Syntax          : SysTick_StopTimer()       
* \Description     : Clear and Stop SysTick Timer                                  
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                   
* \Parameters (out): None                                                      
* \Return value:   : None
*                                                                     
*******************************************************************************/
void SysTick_StopTimer() 
{
   STCURRENT = 0x0;
}


/******************************************************************************
* \Syntax          : void SysTick_EnableNotification()        
* \Description     : Enable Timer Interrupts                                
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                    
* \Parameters (out): None                                                      
* \Return value:   : None
*                                                                     
*******************************************************************************/
void SysTick_EnableNotification() 
{
    STCTRL |= (1<<1);
}


/******************************************************************************
* \Syntax          : void SysTick_DisableNotification()        
* \Description     : Disable Timer Interrupts                               
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                 
* \Parameters (out): None                                                      
* \Return value:   : None
*                                                                     
*******************************************************************************/
void SysTick_DisableNotification() 
{
    STCTRL &= (0<<1);
}


/**********************************************************************************************************************
 *  END OF FILE: SysTick.c
 *********************************************************************************************************************/
